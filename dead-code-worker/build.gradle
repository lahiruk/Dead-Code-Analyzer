/*
 * This build file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * user guide available at https://docs.gradle.org/3.4/userguide/java_library_plugin.html
 */

buildscript {
	ext {
		springBootVersion = '1.5.2.RELEASE'
	}
	repositories {
        jcenter()
        mavenCentral()
        maven {
            url "https://plugins.gradle.org/m2/"
        }
	}
	dependencies {
		classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
        classpath('gradle.plugin.com.gorylenko.gradle-git-properties:gradle-git-properties:1.4.17')
	}
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'idea'
apply plugin: 'maven'
apply plugin: 'org.springframework.boot'

group = 'lkdevfactory'
project.version = '1.0.0' //Make sure to bump this with root project version. Otherwise there is a problem coping sub project jar to docker

sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
    mavenLocal()
    jcenter()
	mavenCentral()
}

bootRepackage {
    mainClass = 'lk.devfactory.DeadCodeApplication'
    
    doLast { //Copies the jar file to temp path for development testing
	    copy {
    		from jar.archivePath
        	into "$tempPath"
        }
    }
}

springBoot  {
    buildInfo()
}

dependencies {
    compile('com.fasterxml.jackson.core:jackson-annotations')
    compile('com.fasterxml.jackson.core:jackson-databind')
    compile('com.fasterxml.jackson.datatype:jackson-datatype-jdk8')
    compile('com.fasterxml.jackson.datatype:jackson-datatype-jsr310')
	compile('org.springframework.boot:spring-boot-starter-actuator')
	testCompile('org.springframework.boot:spring-boot-starter-test')
	
	compile files("/Applications/Understand.app/Contents/MacOS/Java/com.scitools.understand.plugin_1.1.3.jar")

}

